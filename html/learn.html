<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn - Koreanize</title>

    <!-- CSS -->
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/learn.css">
    <link rel="stylesheet" href="../css/language.css">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            prefix: 'tw-',
            corePlugins: {
                preflight: false,
            }
        }
    </script>

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
</head>

<body>

    <!-- ================= HEADER ================= -->
    <header class="top-nav">
        <div class="top-nav-left">
            <a href="../index.html" class="top-logo">K</a>
            <nav class="top-menu">
                <a href="../index.html">Home</a>
                <a href="local.html">Local</a>
                <a href="k-lingo.html">K-Lingo</a>
                <a href="learn.html" class="active">Learn</a>
                <a href="mypage.html">My Page</a>
                <a href="login.html" class="mobile-only-link">Log In</a>
                <a href="signup.html" class="mobile-only-link">Sign Up</a>
            </nav>
        </div>
        <div class="top-nav-right">
            <a href="login.html" class="top-btn-small">Log In</a>
            <a href="signup.html" class="top-btn-small"
                style="background:transparent; color:#2a2a2a; border: 1px solid #ddd;">Sign Up</a>
        </div>
    </header>

    <!-- ================= MAIN ================= -->
    <main class="learn-container">

        <!-- ===== TOP LEVEL TABS ===== -->
        <div class="tab-folder-nav">
            <button class="tab-folder-btn active" data-tab="builder">Hangul Builder</button>
            <button class="tab-folder-btn" data-tab="blank">Fill the Blank</button>
            <button class="tab-folder-btn" data-tab="media">Media</button>
            <button class="tab-folder-btn" data-tab="quiz">K-Quiz</button>
        </div>

        <!-- ================= TAB CONTENT ================= -->
        <div class="tab-content-container">

            <!-- ================= HANGUL BUILDER ================= -->
            <div id="builder" class="tab-pane active">

                <div class="lang-header" style="position:relative;">
                    <h2>Hangul Builder</h2>
                    <p>Freely combine consonants and vowels to explore the structure of Hangul</p>

                    <!-- Guide -->
                    <div id="guide-box">
                        <button id="guide-btn">Í≤åÏûÑ Î∞©Î≤ï</button>
                        <div id="guide-popup">
                            <p><strong>[Hangul Builder]</strong></p>
                            <p>‚úî ÏûêÏùå/Î™®ÏùåÏùÑ ÌÅ¥Î¶≠Ìï¥ Ï°∞Í∞ÅÏùÑ ÏßëÏñ¥Î≥¥ÏÑ∏Ïöî.</p>
                            <p class="en">‚úî Click a consonant or vowel to pick it up.</p>
                            <p>‚úî Ï°∞Ìï© Î≥¥Îìú ÏúÑÏóê Ïò¨Î†§ ÏûêÏú†Î°≠Í≤å Î∞∞ÏπòÌï† Ïàò ÏûàÏäµÎãàÎã§.</p>
                            <p class="en">‚úî Place pieces freely on the board.</p>
                            <p>‚úî Ï†ïÎãµÏùÄ ÏóÜÏñ¥Ïöî. Íµ¨Ï°∞Î•º ÎäêÍª¥Î≥¥ÏÑ∏Ïöî!</p>
                        </div>
                    </div>
                </div>

                <!-- ===== BUILDER GRAY BOX ===== -->
                <div class="builder-outer-box">

                    <!-- ===============================
                         THEME TOOLBAR
                    =============================== -->
                    <div class="theme-switcher">
                        <button class="theme-btn active" data-theme="colorful">Colorful</button>
                        <button class="theme-btn" data-theme="ink">Ink</button>
                        <button class="theme-btn" data-theme="wood">Wood</button>
                        <button class="theme-btn" data-theme="metal">Metal</button>
                        <button class="theme-btn" data-theme="tetris">Tetris</button>
                        <button class="theme-btn" data-theme="custom">Custom</button>
                    </div>

                    <div class="builder-layout">

                        <!-- ================= LEFT : SOURCE ================= -->
                        <div class="builder-source">

                            <!-- üîΩ Ïª§Ïä§ÌÖÄ Ï†ÑÏö© ÌöåÏÉâ Ïª®ÌÖåÏù¥ÎÑà -->
                            <div id="customLayout" class="custom-outer-box hidden">

                                <div class="custom-layout-inner">

                                    <!-- ‚ñ∂ Ïª§Ïä§ÌÖÄ ÎßåÎì§Í∏∞ -->
                                    <div class="custom-tools">
                                        <div class="custom-tools-header">
                                            <h4>Custom Tools</h4>

                                            <!-- ‚ùì ÎèÑÏõÄÎßê Î≤ÑÌäº -->
                                            <button class="help-btn" id="customHelpBtn" aria-label="Custom tools help">
                                                ?
                                            </button>

                                            <!-- ÎèÑÏõÄÎßê ÌåùÏò§Î≤Ñ -->
                                            <div class="help-popover" id="customHelp">
                                                <h5>Ïª§Ïä§ÌÖÄ ÎèÑÍµ¨ÎûÄ?</h5>
                                                <p>
                                                    Ïª§Ïä§ÌÖÄ ÏãúÌä∏ÏóêÏÑúÎäî <strong>ÎßâÎåÄ(Bar)</strong>ÏôÄ <strong>Ïõê(Circle)</strong>ÏùÑ ÏßÅÏ†ë
                                                    ÎßåÎì§Ïñ¥<br>
                                                    ÌÅ¨Í∏∞, ÏÉâÏÉÅ, Ìà¨Î™ÖÎèÑ, ÌöåÏ†ÑÏùÑ ÏûêÏú†Î°≠Í≤å Ï°∞Ï†àÌï† Ïàò ÏûàÏäµÎãàÎã§.
                                                </p>

                                                <p>
                                                    ÏôÑÏÑ±Îêú ÎèÑÌòïÏùÄ <strong>Move to Combination Sheet</strong> Î≤ÑÌäºÏùÑ ÎàåÎü¨<br>
                                                    Ï°∞Ìï© ÏãúÌä∏Î°ú ÏòÆÍ≤® ÌïúÍ∏Ä ÏûêÏùå¬∑Î™®ÏùåÍ≥º Ìï®Íªò ÏÇ¨Ïö©Ìï† Ïàò ÏûàÏäµÎãàÎã§.
                                                </p>

                                                <hr>

                                                <h5>What are Custom Tools?</h5>
                                                <p>
                                                    In the custom sheet, you can create <strong>bars</strong> and
                                                    <strong>circles</strong><br>
                                                    and freely adjust their size, color, opacity, and rotation.
                                                </p>

                                                <p>
                                                    Once ready, click <strong>Move to Combination Sheet</strong><br>
                                                    to use them together with Hangul consonants and vowels.
                                                </p>
                                            </div>
                                        </div>


                                        <button id="moveModeBtn">Move to Combination Sheet</button>

                                        <!-- ================= Shape & Fill ================= -->
                                        <div class="custom-section">
                                            <button class="section-toggle open">Shape & Fill</button>

                                            <div class="section-body">
                                                <div class="custom-row">
                                                    <button id="addCustomStroke">‚ñ≠ Bar</button>
                                                    <button id="addCustomCircle">‚óØ Circle</button>
                                                </div>

                                                <div class="custom-field">
                                                    <label>Fill Color</label>
                                                    <div class="inline-controls">
                                                        <input type="color" id="customFillColor">
                                                        <input type="text" id="customFillHex" value="#000000">
                                                    </div>
                                                </div>

                                                <div class="custom-field">
                                                    <label>Opacity</label>
                                                    <input type="range" id="customOpacity" min="0" max="1" step="0.05"
                                                        value="1">
                                                </div>

                                            </div>
                                        </div>

                                        <!-- ================= Transform ================= -->
                                        <div class="custom-section">
                                            <button class="section-toggle">Transform</button>

                                            <div class="section-body collapsed">
                                                <div class="custom-field">
                                                    <label>Width</label>
                                                    <input type="number" id="sizeXInput">
                                                </div>

                                                <div class="custom-field">
                                                    <label>Height</label>
                                                    <input type="number" id="sizeYInput">
                                                </div>

                                                <div class="custom-field">
                                                    <label>Rotation</label>
                                                    <div class="inline-controls">
                                                        <input type="number" id="rotateInput">
                                                        <button id="rotatePlus10">+10¬∞</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- ================= Stroke ================= -->
                                        <div class="custom-section">
                                            <button class="section-toggle">Stroke</button>

                                            <div class="section-body collapsed">
                                                <div class="custom-field">
                                                    <label>Stroke Color</label>
                                                    <div class="inline-controls">
                                                        <input type="color" id="customStrokeColor">
                                                        <input type="text" id="customStrokeHex" value="#000000">
                                                    </div>
                                                </div>

                                                <div class="custom-field">
                                                    <label>Stroke Width</label>
                                                    <div class="inline-controls">
                                                        <button class="num-btn" data-type="border"
                                                            data-step="-1">‚àí</button>
                                                        <input type="number" id="borderWidthInput" min="0">
                                                        <button class="num-btn" data-type="border"
                                                            data-step="1">Ôºã</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <button id="customEraser">ü©π Eraser</button>
                                        <button id="clearCustomCanvas">üóë Clear All</button>
                                    </div>


                                    <!-- ‚ñ∂ Ïª§Ïä§ÌÖÄ ÏãúÌä∏ -->
                                    <div class="custom-sheet">
                                        <h5>Custom Sheet</h5>
                                        <div id="customCanvas" class="sheet-canvas"></div>
                                    </div>

                                </div>
                            </div>

                            <!-- üîΩ ÏùºÎ∞ò ÌÖåÎßàÏö© ÏûêÏùå/Î™®Ïùå -->
                            <div id="source-wrapper">
                                <div id="drag-interface">

                                    <div id="consonant-wrapper">
                                        <div class="scale-container">
                                            <div id="consonant-container"></div>
                                        </div>
                                    </div>

                                    <div id="vowel-wrapper" style="margin-top:10px;">
                                        <div class="scale-container">
                                            <div id="vowel-container"></div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>

                        <!-- ================= RIGHT : BOARD ================= -->
                        <div class="builder-board">
                            <div id="board-area">
                                <div id="workspace-wrapper">

                                    <div id="toolButtons">
                                        <div class="left-tools">
                                            <button id="cursorButton" class="active">üñ±Ô∏è Cursor</button>
                                            <button id="eraserButton">ü©π Eraser</button>

                                            <!-- ‚úÖ ÏÉâ Î≥ÄÍ≤Ω Î≤ÑÌäº (Ìï≠ÏÉÅ Î≥¥ÏûÑ) -->
                                            <div class="color-picker-box">
                                                <input type="color" id="sheetColorInput" class="color-swatch-btn">
                                            </div>

                                            <!-- Ìà¨Î™ÖÎèÑ Î≤ÑÌäº -->
                                            <div class="sheet-tool">
                                                <button id="sheetOpacityBtn" class="sheet-btn">Opacity</button>
                                                <div id="sheetOpacityWrapper" hidden>
                                                    <input type="range" id="sheetOpacityRange" min="0" max="1"
                                                        step="0.05" value="1">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="right-tools">
                                            <button id="captureButton">üì∑</button>
                                            <button id="clearWorkspace">üóë Clear All</button>
                                        </div>
                                    </div>

                                    <div id="workspace">
                                        <!-- üî• ÌÖåÌä∏Î¶¨Ïä§ Ï†ÑÏö© Î†àÏù¥Ïñ¥ -->
                                        <div id="tetrisLayer"></div>

                                        <div id="workspace-hint">Combine freely here</div>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </div>
        </div>

        <!-- ================= FILL THE BLANK ================= -->
        <div id="blank" class="tab-pane">

            <div class="lang-header">
                <h2>Fill the Blank</h2>
                <p>ÎπàÏπ∏Ïóê Îì§Ïñ¥Í∞à Í∏ÄÏûêÎ•º ÏßÅÏ†ë ÎßåÎì§Ïñ¥Î≥¥ÏÑ∏Ïöî</p>
            </div>

            <div id="quiz-container" style="text-align:center; margin-bottom:30px;">
                <div id="quiz-word-display"
                    style="font-size:2.5rem; font-weight:800; letter-spacing:12px; min-height:60px;">
                    Loading...
                </div>
                <p id="quiz-instruction" style="color:#666;">ÎπàÏπ∏Ïóê Îì§Ïñ¥Í∞à Í∏ÄÏûêÎ•º ÎßåÎì§Ïñ¥Ï£ºÏÑ∏Ïöî!</p>

                <div id="ans-check-area" style="margin-top:10px; display:none;">
                    <span id="quiz-feedback" style="font-weight:bold;"></span>
                    <button id="next-quiz-btn" class="action-btn"
                        style="margin-left:10px; padding:5px 15px;">Next</button>
                </div>
            </div>

            <div id="keyboard-interface"
                style="max-width:800px; margin:0 auto; background:#f9f9f9; padding:20px; border-radius:15px;">
                <div id="keyboard-consonants" class="keyboard-row"></div>
                <div id="keyboard-vowels" class="keyboard-row" style="margin-top:15px;"></div>
            </div>

            <div id="recognition-box" style="max-width:320px; margin:30px auto;">
                <h3>ÎÇ¥Í∞Ä ÎßåÎì† Í∏ÄÏûê</h3>
                <div id="recognized-text" style="font-size:3rem; min-height:60px;">-</div>
                <button id="submit-answer-btn" class="action-btn" style="width:100%; margin-top:10px;">Ï†ïÎãµ
                    Ï†úÏ∂ú</button>
            </div>

        </div>

        <!-- ================= MEDIA ================= -->
        <div id="media" class="tab-pane">
            <div class="media-inner-wrapper">

                <div class="page-header">
                    <h1 class="page-title">K-Media Collection</h1>
                    <p class="page-subtitle">Learn Korean culture through popular media</p>
                </div>

                <!-- ‚úÖ ÏôºÏ™Ω Ïπ¥ÌÖåÍ≥†Î¶¨ + Ïò§Î•∏Ï™Ω Î©îÏù∏ ÏòÅÏó≠ -->
                <div class="media-layout">
                    <!-- LEFT SIDE CATEGORY -->
                    <aside class="media-side" aria-label="Media Categories">

                        <!-- ‚úÖ Ï†úÎ™© + ÌîåÎ†àÏù¥Î¶¨Ïä§Ìä∏ ÌôîÏÇ¥Ìëú Î≤ÑÌäº (Ïò§Î•∏Ï™Ω ÎÅù) -->
                        <div class="side-header">
                            <div class="side-title">Categories</div>

                            <button id="playlistToggle" class="playlist-toggle" type="button"
                                aria-controls="categoryVideoList" aria-expanded="false" title="Toggle playlist">
                                ‚ñ∂
                            </button>
                        </div>

                        <button class="cat-item active" type="button" data-cat="travel">Travel Spot</button>
                        <button class="cat-item" type="button" data-cat="food">Korea Food</button>
                        <button class="cat-item" type="button" data-cat="kpop">Kpop</button>
                        <button class="cat-item" type="button" data-cat="makeup">Korea Makeup</button>
                        <button class="cat-item" type="button" data-cat="conversation">Korea Conversation</button>

                    </aside>


                    <!-- ‚úÖ Ïπ¥ÌÖåÍ≥†Î¶¨Î≥Ñ ÏÑ∏Î°ú Ïç∏ÎÑ§Ïùº Î¶¨Ïä§Ìä∏ -->
                    <div id="categoryVideoList" class="video-list-vertical"></div>

                    <!-- MAIN CONTENT -->
                    <section class="media-main">
                        <div class="content" id="mainContent">
                            <div class="video-frame">
                                <iframe id="mainVideo"
                                    src="https://www.youtube.com/embed/pYzX7cqK_JQ?rel=0&modestbranding=1"
                                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                                    allowfullscreen></iframe>
                            </div>

                            <div class="info">
                                <h2 id="videoTitle">Ïô∏Íµ≠Ïù∏Ïù¥ ÌïúÍµ≠Ïóê ÏôÄÏÑú Í∞ÄÏû• ÎÜÄÎûÄÎã§Îäî 9Í∞ÄÏßÄ</h2>
                                <p id="videoDesc">ÌïúÍµ≠ Î¨∏Ìôî ÏÜåÍ∞ú ÏòÅÏÉÅ</p>
                            </div>

                            <button id="toggleButton">ÏûêÏÑ∏Ìûà Î≥¥Í∏∞ ‚ñº</button>
                            <div id="contentToToggle" class="hidden"></div>
                        </div>

                        <!-- ‚úÖ ÏïÑÎûò Ïç∏ÎÑ§Ïùº Î¶¨Ïä§Ìä∏Îäî Ïú†ÏßÄ(Ïà®ÍπÄ Ï≤òÎ¶¨ Í∞ÄÎä•) -->
                        <div class="horizontal-list" id="relatedList"></div>
                    </section>
                </div>

            </div>
        </div>

        <!-- ================= K-QUIZ ================= -->
        <div id="quiz" class="tab-pane">
            <div class="game-header">
                <h1>K-Quiz</h1>
            </div>

            <div class="game-card" id="gameCard">
                <div class="start-screen">
                    <p>Test your knowledge about Korea!</p>
                    <button class="action-btn" id="startBtn">Start Quiz</button>
                </div>
            </div>
        </div>

        </div>
    </main>

    <!-- ===============================
     CAPTURE EDITOR MODAL
    ================================ -->
    <div id="captureEditor" class="editor-overlay editor-hidden">
        <div class="editor-panel">

            <!-- Ìó§Îçî -->
            <div class="editor-header">
                <h3>Edit Result</h3>
                <button id="closeEditorBtn">‚úï</button>
            </div>

            <!-- Î≥∏Î¨∏ -->
            <div class="editor-body">

                <!-- ÏôºÏ™Ω : Ï∫°Ï≥ê / ÌÅ¨Î°≠ -->
                <div class="editor-canvas">
                    <img id="capturedImage" alt="captured">

                    <!-- ‚úÖ CROP OVERLAY DOM Î≥µÍµ¨ -->
                    <div id="cropOverlay" class="editor-hidden">
                        <div class="crop-mask top"></div>
                        <div class="crop-mask bottom"></div>
                        <div class="crop-mask left"></div>
                        <div class="crop-mask right"></div>

                        <div id="cropBox">
                            <div class="handle nw"></div>
                            <div class="handle ne"></div>
                            <div class="handle sw"></div>
                            <div class="handle se"></div>
                        </div>
                    </div>
                </div>

                <!-- Í∞ÄÏö¥Îç∞ : Í∏∞Ï°¥ Ïª®Ìä∏Î°§ -->
                <div class="editor-controls">
                    <h4>Edit</h4>

                    <button id="cropModeBtn" class="editor-btn">Select Area</button>
                    <button id="applyCropBtn" class="editor-btn primary">Apply Crop</button>

                    <hr>

                    <!-- üëï Î≤ÑÌäº -->
                    <button id="applyToTshirtBtn" class="editor-btn secondary">
                        üëï Apply to T-shirt
                    </button>

                    <button id="saveImageBtn" class="editor-btn primary">
                        Save Image
                    </button>
                </div>
            </div>

        </div>
    </div>

    <!-- =========================
     T-SHIRT MODAL
    ========================= -->
    <div id="tshirtModal" class="editor-overlay editor-hidden">
        <div class="editor-panel">

            <!-- Ìó§Îçî -->
            <div class="editor-header">
                <h3>T-shirt Preview</h3>
                <button id="closeTshirtBtn">‚úï</button>
            </div>

            <!-- Î≥∏Î¨∏ -->
            <div class="tshirt-modal-body">

                <div class="tshirt-preview">
                    <div class="tshirt-capture">
                        <img class="tshirt-base" src="/images/tshirt.png" />
                        <img id="tshirt-design" />
                    </div>
                </div>

                <!-- ‚úÖ ÌîÑÎ¶∞Ìä∏ ÌÅ¨Í∏∞ Ï°∞Ï†à -->
                <input type="range" id="printScale" min="20" max="80" value="45"
                    style="width: 200px; margin-bottom: 20px;">

                <button id="saveTshirtBtn" class="editor-btn primary">
                    üëï Save T-shirt Image
                </button>

            </div>

        </div>
    </div>


    <!-- ================= FOOTER ================= -->
    <footer class="local-main-footer">
        <p>&copy; 2025 K-Local Vibe Trip. All rights reserved.</p>
    </footer>

    <!-- Bottom Nav -->
    <nav class="bottom-nav" id="bottomNav">
        <a href="../index.html" class="nav-icon-link"><img src="../images/home.svg"><span
                class="tooltip">Home</span></a>
        <a href="local.html" class="nav-icon-link"><img src="../images/travel.svg"><span
                class="tooltip">Local</span></a>
        <a href="k-lingo.html" class="nav-icon-link"><img src="../images/language.svg"><span
                class="tooltip">K-Lingo</span></a>
        <a href="learn.html" class="nav-icon-link active"><img src="../images/learn.svg"><span
                class="tooltip">Learn</span></a>
        <a href="mypage.html" class="nav-icon-link"><img src="../images/mypage.svg"><span
                class="tooltip">MyPage</span></a>
    </nav>

    <!-- JS -->
    <script src="../js/mock_data.js"></script>
    <script src="../js/common.js"></script>
    <script src="../js/learn.js"></script>
    <script src="../js/language.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

</body>

</html>